# Ad

read the code

## How does it work?

This contract will give you access to set an ad on https://kiwinews.xyz. The ad will be, for example, permanently available as the top third link here:

<img width="948" alt="Screenshot 2024-07-30 at 13 14 42" src="https://github.com/user-attachments/assets/0f3bffda-59b8-447b-a694-a22e5e74bdaf">

At the time of writing, we reach roughly 150-400 individuals in the crypto space. But we have no idea how much it'd be worth to advertise to these people, hence the smart contract. It'll help us do price discovery. So how does it work?

Basically, you can stake an amount of ETH for the contract to be yours. Say you stake 1 ETH, then you'll get to set the title and the link. But over 1 year, we'll charge you 1 ETH in fees. Here's how your staked collateral is taxed over the year:

- Day 0: You have 1 ETH in collateral and you can set the title and link. For someone else to buy the ad space from you, they have to pay more than 1 ETH (and you'll get your 1 ETH back).
- Day 182 (half a year): Your ad is still being displayed, but now your collateral is only worth 0.5 ETH (we tax 1 ETH/year). For someone else to buy your ad space, they'll just have to pay a little more than 0.5 ETH (and you'll get 0.5 ETH back).
- Day 356 (year): Your ad is about to be taken off the website. In case noone has bought yet, your collateral now is very low 0.0000.. ETH, and so for someone else to buy the ad space from you is extremely cheap.

You may ask: What happened with my collateral? The answer: It went to the Kiwi News treasury. We charge the entire collateral's value as a fee and it is being deducted from your collateral every second that you run the ad. So if your collateral is worth 1 ETH, we'll charge you 1 ETH/year to run the ad.


## Deployment

CREATE2 is used to deploy the contract to a deterministic address independent
  of chainId.
- `DEPLOYER`: 0x0000000000ffe8b47b3e2130213b802212439497
- `SALT`: 0x0000000000000000000000000000000000000000f00df00df00df00df00df00d
- `INITCODE`: 0x608060405234801561001057600080fd5b506001600055610888806100256000396000f3fe60806040526004361061007b5760003560e01c8063b80777ea1161004e578063b80777ea14610101578063d8dfeb4514610125578063e942b5161461013b578063f77c47911461014e57600080fd5b806336eeaa6a146100805780634a79d50c146100ab578063824ca7e9146100c0578063a035b1fe146100d7575b600080fd5b34801561008c57600080fd5b50610095610186565b6040516100a29190610583565b60405180910390f35b3480156100b757600080fd5b50610095610214565b3480156100cc57600080fd5b506100d5610221565b005b3480156100e357600080fd5b506100ec6102b3565b604080519283526020830191909152016100a2565b34801561010d57600080fd5b5061011760055481565b6040519081526020016100a2565b34801561013157600080fd5b5061011760045481565b6100d561014936600461061a565b6102f1565b34801561015a57600080fd5b5060035461016e906001600160a01b031681565b6040516001600160a01b0390911681526020016100a2565b6002805461019390610686565b80601f01602080910402602001604051908101604052809291908181526020018280546101bf90610686565b801561020c5780601f106101e15761010080835404028352916020019161020c565b820191906000526020600020905b8154815290600101906020018083116101ef57829003601f168201915b505050505081565b6001805461019390610686565b3373ee324c588cef1bf1c1360883e4318834af66366d1461025557604051636609677b60e11b815260040160405180910390fd5b60405173ee324c588cef1bf1c1360883e4318834af66366d904790600081818185875af1925050503d80600081146102a9576040519150601f19603f3d011682016040523d82523d6000602084013e505050565b606091505b505050565b6000806102e96040518060400160405280600181526020016301e18558815250600554426102e191906106d6565b600454610476565b915091509091565b6102f96104b9565b6003546001600160a01b0316610344576001610316848683610753565b506002610324828483610753565b50600380546001600160a01b031916331790553460045542600555610466565b60008061034f6102b3565b91509150813411610373576040516349798bf960e11b815260040160405180910390fd5b6003546001600160a01b0316600161038c878983610753565b50600261039a858783610753565b50600380546001600160a01b031916331790553460045542600555604051731337e2624ffec537087c6774e9a18031cfeaf0a9908390600081818185875af1925050503d8060008114610409576040519150601f19603f3d011682016040523d82523d6000602084013e61040e565b606091505b50506040516001600160a01b03831691508490600081818185875af1925050503d806000811461045a576040519150601f19603f3d011682016040523d82523d6000602084013e61045f565b606091505b5050505050505b6104706001600055565b50505050565b6000806000610486868686610516565b905060006104948286610814565b9050600081136104ac576000859350935050506104b1565b925090505b935093915050565b60026000540361050f5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640160405180910390fd5b6002600055565b825160009061055990610529858561083b565b610533919061083b565b670de0b6b3a7640000866020015161054b919061083b565b670de0b6b3a7640000610561565b949350505050565b82810282151584158583048414171661057957600080fd5b9190910492915050565b600060208083528351808285015260005b818110156105b057858101830151858201604001528201610594565b506000604082860101526040601f19601f8301168501019250505092915050565b60008083601f8401126105e357600080fd5b50813567ffffffffffffffff8111156105fb57600080fd5b60208301915083602082850101111561061357600080fd5b9250929050565b6000806000806040858703121561063057600080fd5b843567ffffffffffffffff8082111561064857600080fd5b610654888389016105d1565b9096509450602087013591508082111561066d57600080fd5b5061067a878288016105d1565b95989497509550505050565b600181811c9082168061069a57607f821691505b6020821081036106ba57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b818103818111156106e9576106e96106c0565b92915050565b634e487b7160e01b600052604160045260246000fd5b601f8211156102ae57600081815260208120601f850160051c8101602086101561072c5750805b601f850160051c820191505b8181101561074b57828155600101610738565b505050505050565b67ffffffffffffffff83111561076b5761076b6106ef565b61077f836107798354610686565b83610705565b6000601f8411600181146107b3576000851561079b5750838201355b600019600387901b1c1916600186901b17835561080d565b600083815260209020601f19861690835b828110156107e457868501358255602094850194600190920191016107c4565b50868210156108015760001960f88860031b161c19848701351681555b505060018560011b0183555b5050505050565b8181036000831280158383131683831282161715610834576108346106c0565b5092915050565b80820281158282048414176106e9576106e96106c056fea26469706673582212203744a0d7316e850abf5b726a52e73649a92d1c5ecea2084b27f78344b75ab42864736f6c63430008110033
- `ADDRESS`: 0xb0c9502ea7c11ea0fe6157bfc43e3507fa69bba0
- Deployed to:
  - Optimism

## Updates and verifying on Etherscan

```
ETHERSCAN_API_KEY=abc forge verify-contract address Ad --watch --chain 10
```

## License

SPDX-License-Identifier: AGPL-3.0
